{"version":3,"sources":["./src/app/pages/viewbooking/viewbooking.page.html","./src/app/pages/viewbooking/viewbooking-routing.module.ts","./src/app/pages/viewbooking/viewbooking.module.ts","./src/app/pages/viewbooking/viewbooking.page.scss","./src/app/pages/viewbooking/viewbooking.page.ts"],"names":[],"mappings":"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","file":"pages-viewbooking-viewbooking-module-es2015.js","sourcesContent":["export default \"<ion-header> \\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>viewbooking</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid style=\\\"font-size: 0.8em;\\\">\\n    <ion-row>\\n      <ion-list>\\n        <ion-list-header>\\n         <b>Profile</b>  \\n        </ion-list-header>\\n\\n        <ion-item *ngFor=\\\"let x of userprofile; let i = index\\\" >\\n          <ion-avatar slot=\\\"start\\\">\\n            <img [src]=\\\"x.img_profile\\\">\\n        \\n          </ion-avatar>\\n          <ion-label>\\n            <ion-grid>\\n              <ion-row>\\n                <ion-col><h2>{{x.name}}</h2></ion-col>\\n                <ion-col><h2>{{x.surname}}</h2></ion-col>\\n              </ion-row>\\n              <ion-row>\\n                <h3>Email: {{x.email}} </h3>\\n              </ion-row>\\n              <ion-row>\\n                <h3>phone: {{x.phone}} </h3>\\n              </ion-row>\\n            </ion-grid>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item >\\n    \\n  <ion-card  >\\n    \\n    \\n    <img [src]=\\\"image\\\" style=\\\"width:100%;height: 50%;\\\">\\n    <ion-card-header>\\n      <ion-card-title> {{categories}}</ion-card-title>\\n      <ion-card-subtitle>total: {{category_number}} </ion-card-subtitle>\\n      <ion-card-subtitle>categories: {{categories}} </ion-card-subtitle>\\n      <ion-card-subtitle>city: {{city}} </ion-card-subtitle>\\n      <ion-card-subtitle>province: {{province}} </ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n\\n\\n   <ion-grid>\\n     <ion-row> \\n  <ion-col  *ngFor=\\\"let y of amenities\\\">\\n    {{y}}\\n   </ion-col>\\n  </ion-row>\\n</ion-grid> \\n   </ion-card-content>\\n  \\n  </ion-card>\\n\\n\\n\\n\\n\\n\\n\\n<!-- \\n            <img [src]=\\\"image\\\" style=\\\"width:50%;height: 50%;\\\">\\n        \\n\\n          <ion-label>\\n            <h2>Space: {{categories}}</h2>\\n            <h3>total: {{category_number}} </h3>\\n            <h3>categories: {{categories}} </h3>\\n            <h3>city: {{city}} </h3>\\n            <h3>province: {{province}} </h3>\\n          </ion-label> -->\\n        </ion-item>\\n</ion-list>\\n    </ion-row>\\n    <ion-row>   <b>Date and Time</b>   </ion-row>\\n    <ion-row >\\n      <ion-col >checkin: {{checkin}} </ion-col> \\n      <ion-col >timein: {{timein}} </ion-col> \\n    </ion-row>\\n    <ion-row >\\n      <ion-col >checkout: {{checkout}} </ion-col> \\n      <ion-col >timeout: {{timeout}} </ion-col> \\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid >\\n    <ion-row style=\\\"font-size: .9em;font-weight: bold;\\\">   <b>Extras   </b>    </ion-row>\\n    <ion-row style=\\\"font-size: 0.8em;font-weight: bold;\\\" >\\n     <ion-col  >Extras</ion-col> \\n     <ion-col >Price</ion-col> \\n     <ion-col >TotalExtras</ion-col> \\n     <ion-col >Space()+Extras</ion-col> \\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid style=\\\"font-size: 0.8em;\\\">\\n   \\n    <ion-row  *ngFor=\\\"let x of extras; let i = index\\\">\\n     <ion-col size=\\\"3\\\" >{{x.extraAmenities}}</ion-col> \\n     <ion-col size=\\\"3\\\" >R{{x.price}} </ion-col> \\n     <ion-col size=\\\"3\\\" >R{{x. extrasTotal}}</ion-col> \\n     <ion-col size=\\\"3\\\" >R{{x. totalCost}}</ion-col> \\n    </ion-row>\\n  </ion-grid>\\n\\n  <div *ngIf=\\\"available==0\\\">\\n    <ion-button >padding booking</ion-button>\\n    <p>Your are fully booked</p>\\n  </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ViewbookingPage } from './viewbooking.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ViewbookingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewbookingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ViewbookingPageRoutingModule } from './viewbooking-routing.module';\n\nimport { ViewbookingPage } from './viewbooking.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ViewbookingPageRoutingModule\n  ],\n  declarations: [ViewbookingPage]\n})\nexport class ViewbookingPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3ZpZXdib29raW5nL3ZpZXdib29raW5nLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport firebase from 'firebase/app';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { OwnerServiceService } from 'src/app/services/owner.service';\nimport { SignInSignUpService } from 'src/app/sign-in-sign-up.service';\n\n@Component({\n  selector: 'app-viewbooking',\n  templateUrl: './viewbooking.page.html',\n  styleUrls: ['./viewbooking.page.scss'],\n})\nexport class ViewbookingPage implements OnInit {\n\n  db =firebase.firestore();\n  user_uid = this.route.snapshot.params.useruid;\n  reservationuid = this.route.snapshot.params.reservuid;\n  profiles_uid = this.route.snapshot.params.profiles_uid;\n  profile_uid = this.route.snapshot.params.profileuid;\n  space_uid = this.route.snapshot.params.spaceuid;\n  checkin: any;\n  checkout: any;\n  timein: any;\n  timeout: any;\n  extras :any= [];\n  spaceBooked:any=[];\n  userprofile :any= [];\n  date: any;\n  company_name: any;\n  img_profile: any;\n  company_emaile: any;\n  company_tel: any;\n  available: any;\n  categories: any;\n  image: any;\n  category_number: any;\n  price: any;\n  address: any;\n  city: any;\n  province: any;\n  amenities:any=[]\n  read: boolean;\n\n\n\n  constructor(private route:ActivatedRoute,public ownerservice:OwnerServiceService,public account:SignInSignUpService) { \n    console.log(\"<--------<--->-------->\"+this.user_uid)\n    this.db.collectionGroup('user-profile').where(\"uid\",\"==\",this.user_uid)\n    .get()\n    .then(snap => {\n      snap.forEach(dat=>{\n        console.log(\">>>>>\"+ dat.data())\n        this.userprofile.push(dat.data())\n      })\n    })\n  \n  \n  \n    console.log(this.reservationuid)\n    this.db.collection(\"profiles\").doc(this.account.getUserSession())\n           .collection(\"profile\").doc(this.profile_uid)\n           .collection(\"space\").doc(this.space_uid)\n           .collection('reservation').doc(this.reservationuid)\n  \n    .get() \n    .then(snap => {\n  console.log(snap.data())\n  this.checkin=snap.data().checkin;\n  this.checkout=snap.data().checkout;\n  this.timein=snap.data().timein;\n  this.timeout=snap.data().timeout;\n  this.date=snap.data().date;\n  this.available=snap.data().availabe;\n  this.extras= Object.values(snap.data().extras )\n  this.read=snap.data().read;\n\n  if(!this.read)\n  this.ownerservice. readOrNot(this.account.getUserSession(),this.profile_uid,this.space_uid,this.reservationuid,true)\n  \n\n    })\n  }\n\n  ngOnInit() {\n    this.getSpace();\n\n  }\n\n\n  getSpace(){\n    this.db.collection(\"profiles\").doc(this.account.getUserSession())\n    .collection(\"profile\").doc(this.profile_uid)\n    .collection(\"space\").doc(this.space_uid)\n   \n    .get()\n    .then(snap => {\n   \n        console.log(\"+++\"+ snap.data())\n        this.categories = snap.data().categories;\n        this.image = snap.data().image;\n        this.category_number = snap.data().category_number;\n        this.price = snap.data().price;\n        this.address = snap.data().address;\n        this.city = snap.data().city;\n        this.province = snap.data().province;\n        this.amenities .push(snap.data().amenities) ;\n        \n\n        \n        \n    })\n  }\n\n\n\n}\n"],"sourceRoot":"webpack:///"}