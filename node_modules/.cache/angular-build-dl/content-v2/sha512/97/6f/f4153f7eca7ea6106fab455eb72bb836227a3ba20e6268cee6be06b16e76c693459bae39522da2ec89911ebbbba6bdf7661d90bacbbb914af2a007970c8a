{"version":3,"sources":["webpack:///src/app/pages/viewhistory/viewhistory.page.html","webpack:///src/app/pages/viewhistory/viewhistory-routing.module.ts","webpack:///src/app/pages/viewhistory/viewhistory.module.ts","webpack:///src/app/pages/viewhistory/viewhistory.page.scss","webpack:///src/app/pages/viewhistory/viewhistory.page.ts"],"names":["routes","path","component","ViewhistoryPageRoutingModule","imports","forChild","exports","ViewhistoryPageModule","declarations","ViewhistoryPage","route","ownerservice","account","db","firestore","user_uid","snapshot","params","useruid","reservationuid","reservuid","profiles_uid","profile_uid","profileuid","space_uid","spaceuid","extras","spaceBooked","userprofile","amenities","console","log","collectionGroup","where","get","then","snap","forEach","dat","data","push","collection","doc","getUserSession","checkin","checkout","timein","timeout","date","available","availabe","Object","values","read","getSpace","categories","image","category_number","price","address","city","province","selector","template"],"mappings":"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","file":"pages-viewhistory-viewhistory-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>viewhistory</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid style=\\\"font-size: 0.8em;\\\">\\n    <ion-row>\\n      <ion-list>\\n        <ion-list-header>\\n         <b>Profile</b>  \\n        </ion-list-header>\\n\\n        <ion-item *ngFor=\\\"let x of userprofile; let i = index\\\" >\\n          <ion-avatar slot=\\\"start\\\">\\n            <img [src]=\\\"x.img_profile\\\">\\n        \\n          </ion-avatar>\\n          <ion-label>\\n            <ion-grid>\\n              <ion-row>\\n                <ion-col><h2>{{x.name}}</h2></ion-col>\\n                <ion-col><h2>{{x.surname}}</h2></ion-col>\\n              </ion-row>\\n              <ion-row>\\n                <h3>Email: {{x.email}} </h3>\\n              </ion-row>\\n              <ion-row>\\n                <h3>phone: {{x.phone}} </h3>\\n              </ion-row>\\n            </ion-grid>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item >\\n    \\n  <ion-card  >\\n    \\n    \\n    <img [src]=\\\"image\\\" style=\\\"width:100%;height: 50%;\\\">\\n    <ion-card-header>\\n      <ion-card-title> {{categories}}</ion-card-title>\\n      <ion-card-subtitle>total: {{category_number}} </ion-card-subtitle>\\n      <ion-card-subtitle>categories: {{categories}} </ion-card-subtitle>\\n      <ion-card-subtitle>city: {{city}} </ion-card-subtitle>\\n      <ion-card-subtitle>province: {{province}} </ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n\\n\\n   <ion-grid>\\n     <ion-row> \\n  <ion-col  *ngFor=\\\"let y of amenities\\\">\\n    {{y}}\\n   </ion-col>\\n  </ion-row>\\n</ion-grid> \\n   </ion-card-content>\\n  \\n  </ion-card>\\n\\n\\n\\n\\n\\n\\n\\n<!-- \\n            <img [src]=\\\"image\\\" style=\\\"width:50%;height: 50%;\\\">\\n        \\n\\n          <ion-label>\\n            <h2>Space: {{categories}}</h2>\\n            <h3>total: {{category_number}} </h3>\\n            <h3>categories: {{categories}} </h3>\\n            <h3>city: {{city}} </h3>\\n            <h3>province: {{province}} </h3>\\n          </ion-label> -->\\n        </ion-item>\\n</ion-list>\\n    </ion-row>\\n    <ion-row>   <b>Date and Time</b>   </ion-row>\\n    <ion-row >\\n      <ion-col >checkin: {{checkin}} </ion-col> \\n      <ion-col >timein: {{timein}} </ion-col> \\n    </ion-row>\\n    <ion-row >\\n      <ion-col >checkout: {{checkout}} </ion-col> \\n      <ion-col >timeout: {{timeout}} </ion-col> \\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid >\\n    <ion-row style=\\\"font-size: .9em;font-weight: bold;\\\">   <b>Extras   </b>    </ion-row>\\n    <ion-row style=\\\"font-size: 0.8em;font-weight: bold;\\\" >\\n     <ion-col  >Extras</ion-col> \\n     <ion-col >Price</ion-col> \\n     <ion-col >TotalExtras</ion-col> \\n     <ion-col >Space()+Extras</ion-col> \\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid style=\\\"font-size: 0.8em;\\\">\\n   \\n    <ion-row  *ngFor=\\\"let x of extras; let i = index\\\">\\n     <ion-col size=\\\"3\\\" >{{x.extraAmenities}}</ion-col> \\n     <ion-col size=\\\"3\\\" >R{{x.price}} </ion-col> \\n     <ion-col size=\\\"3\\\" >R{{x. extrasTotal}}</ion-col> \\n     <ion-col size=\\\"3\\\" >R{{x. totalCost}}</ion-col> \\n    </ion-row>\\n  </ion-grid>\\n\\n  <div *ngIf=\\\"available==0\\\">\\n    <ion-button >padding booking</ion-button>\\n    <p>Your are fully booked</p>\\n  </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ViewhistoryPage } from './viewhistory.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ViewhistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewhistoryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ViewhistoryPageRoutingModule } from './viewhistory-routing.module';\n\nimport { ViewhistoryPage } from './viewhistory.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ViewhistoryPageRoutingModule\n  ],\n  declarations: [ViewhistoryPage]\n})\nexport class ViewhistoryPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3ZpZXdoaXN0b3J5L3ZpZXdoaXN0b3J5LnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport firebase from 'firebase/app';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport { FormBuilder, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { OwnerServiceService } from 'src/app/services/owner.service';\nimport { SignInSignUpService } from 'src/app/sign-in-sign-up.service';\n\n@Component({\n  selector: 'app-viewhistory',\n  templateUrl: './viewhistory.page.html',\n  styleUrls: ['./viewhistory.page.scss'],\n})\nexport class ViewhistoryPage implements OnInit {\n\n\n  db =firebase.firestore();\n  user_uid = this.route.snapshot.params.useruid;\n  reservationuid = this.route.snapshot.params.reservuid;\n  profiles_uid = this.route.snapshot.params.profiles_uid;\n  profile_uid = this.route.snapshot.params.profileuid;\n  space_uid = this.route.snapshot.params.spaceuid;\n  checkin: any;\n  checkout: any;\n  timein: any;\n  timeout: any;\n  extras :any= [];\n  spaceBooked:any=[];\n  userprofile :any= [];\n  date: any;\n  company_name: any;\n  img_profile: any;\n  company_emaile: any;\n  company_tel: any;\n  available: any;\n  categories: any;\n  image: any;\n  category_number: any;\n  price: any;\n  address: any;\n  city: any;\n  province: any; \n  amenities:any=[]\n  read: boolean;\n\n  constructor(private route:ActivatedRoute,public ownerservice:OwnerServiceService,public account:SignInSignUpService) { \n    console.log(this.user_uid)\n    this.db.collectionGroup('user-profile').where(\"uid\",\"==\",this.user_uid)\n    .get()\n    .then(snap => {\n      snap.forEach(dat=>{\n        console.log(\">>>>>\"+ dat.data())\n        this.userprofile.push(dat.data())\n      })\n    })\n  \n  \n  \n    console.log(this.reservationuid)\n    this.db.collection(\"profiles\").doc(this.account.getUserSession())\n           .collection(\"profile\").doc(this.profile_uid)\n           .collection(\"space\").doc(this.space_uid)\n           .collection('reservation').doc(this.reservationuid)\n  \n    .get() \n    .then(snap => {\n  console.log(snap.data())\n  this.checkin=snap.data().checkin;\n  this.checkout=snap.data().checkout;\n  this.timein=snap.data().timein;\n  this.timeout=snap.data().timeout;\n  this.date=snap.data().date;\n  this.available=snap.data().availabe;\n  this.extras= Object.values(snap.data().extras )\n  this.read=snap.data().read;\n\n  // if(!this.read)\n  // this.ownerservice. readOrNot(this.account.getUserSession(),this.profile_uid,this.space_uid,this.reservationuid,true)\n  \n\n    })\n  }\n\n  ngOnInit() {\n    this.getSpace();\n\n  }\n\n\n  getSpace(){\n    this.db.collection(\"profiles\").doc(this.account.getUserSession())\n    .collection(\"profile\").doc(this.profile_uid)\n    .collection(\"space\").doc(this.space_uid)\n   \n    .get()\n    .then(snap => {\n   \n        console.log(\"+++\"+ snap.data())\n        this.categories = snap.data().categories;\n        this.image = snap.data().image;\n        this.category_number = snap.data().category_number;\n        this.price = snap.data().price;\n        this.address = snap.data().address;\n        this.city = snap.data().city;\n        this.province = snap.data().province;\n        this.amenities .push(snap.data().amenities) ;\n        \n\n        \n        \n    })\n  }\n\n}\n"]}